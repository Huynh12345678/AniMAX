(this["webpackJsonpanime-client"]=this["webpackJsonpanime-client"]||[]).push([[10],{124:function(e,t,n){"use strict";var c=n(133),a=n.n(c),s=n(2);a.a.config({barColors:{0:"#ff0000"}});t.a=function(){return Object(s.jsx)(a.a,{})}},125:function(e,t,n){"use strict";n(1);var c=n(12),a=n.n(c),s=n(2);t.a=function(e){var t=e.iconSize,n=void 0===t?16:t,c=e.icon,i=e.className,r=e.iconClassName,l=e.textClassName,o=e.text;return Object(s.jsxs)("div",{className:a()("flex items-center",i),children:[Object(s.jsx)(c,{size:n,className:r}),Object(s.jsx)("p",{className:a()("line-clamp-1 pl-1 pt-0.5",l),children:o})]})}},129:function(e,t,n){"use strict";var c=n(12),a=n.n(c),s=n(32),i=n(127),r=n(5),l=n(11),o=n(125),u=n(53),d=n(126),b=n(132),j=n(2);t.a=function(e){var t,n=Object(r.f)().pathname,c=Object(u.c)((function(e){return e.sliding})),m=["gi\u1edd","ph\xfat","Gi\u1edd","Ph\xfat"],x=["HD","BD","FHD"];return Object(j.jsxs)(l.b,{to:"/info/".concat(e.slug),onClick:function(e){return t=e,void(c&&t.preventDefault());var t},children:[Object(j.jsxs)("div",{className:a()("relative shadow-lg group",e.className),children:[Object(j.jsx)("img",{onError:function(e){return function(e){e.target.src="/default.png"}(e)},src:e.image,alt:e.title,className:a()("w-full h-48 md:h-60 object-cover rounded-md rounded-b-none",e.classNameImg?e.classNameImg:"lg:h-80")}),e.isUpcoming&&Object(j.jsxs)("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center",children:[Object(j.jsx)("p",{className:"text-white text-3xl font-bold",children:e.upcomingYear}),Object(j.jsx)("h1",{className:"font-bold z-10 absolute bottom-0 p-2 bg-red-500 w-full text-center bg-opacity-80",children:"S\u1eaeP CHI\u1ebeU"})]}),Object(j.jsx)("div",{className:"absolute inset-0 invisible group-hover:visible bg-black bg-opacity-60 flex items-center justify-center",children:Object(j.jsx)(d.c,{size:70,className:"text-white"})}),Object(j.jsx)("div",{className:"absolute top-2 z-10 left-2 bg-black px-3 py-1 rounded-2xl text-white text-xs bg-opacity-70",children:Object(j.jsx)(o.a,{icon:s.a,text:e.stars.toString(),className:"text-base text-yellow-200"})}),!e.isUpcoming&&Object(j.jsx)("div",{className:a()("absolute top-2 right-2 text-white text-xs text-center",m.some((function(t){var n;return null===(n=e.time)||void 0===n?void 0:n.includes(t)}))||""===e.currentEpisode||x.some((function(t){var n;return null===(n=e.currentEpisode)||void 0===n?void 0:n.includes(t)}))?" bg-three rounded-md w-auto px-2":"bg-red-500 rounded-full w-12 px-1 pt-3 py-1 h-12"),style:{lineHeight:"0.5em"},children:m.some((function(t){var n;return null===(n=e.time)||void 0===n?void 0:n.includes(t)}))||""===e.currentEpisode||x.some((function(t){var n;return null===(n=e.currentEpisode)||void 0===n?void 0:n.includes(t)}))?Object(j.jsx)("span",{className:"text-base text-black font-thin",children:e.quality||e.currentEpisode}):e.isCompleted?Object(j.jsxs)(j.Fragment,{children:["HO\xc0N ",Object(j.jsx)("span",{className:"font-bold text-lg",children:"T\u1ea4T"})]}):Object(j.jsxs)(j.Fragment,{children:["T\u1eacP ",Object(j.jsx)("span",{className:"font-bold text-lg",children:e.currentEpisode})]})})]}),Object(j.jsxs)("div",{className:a()("bg-background-darker p-3 w-full space-y-2 rounded-b-md",n.includes("info")?"max-h-20 min-h-5":"max-h-20 min-h-11"),children:[Object(j.jsx)("p",{className:a()("uppercase text-white font-bold text-sm hover:text-three",n.includes("info")?"line-clamp-2":"line-clamp-1"),title:e.title,children:e.title}),Object(j.jsxs)("div",{className:"space-y-1",children:[Object(j.jsxs)("div",{className:"flex items-center",children:[e.time&&Object(j.jsx)(o.a,{icon:i.b,iconClassName:"text-gray-400 mr-1",text:e.time.includes("Ch\u01b0a")?"...":e.time,textClassName:"text-white text-xs",iconSize:12}),Object(j.jsx)("p",{className:"px-2 ml-2 text-xs font-medium bg-primary text-white rounded-md mt-0.5",children:null!==(t=e.quality)&&void 0!==t&&t.includes("Ch\u01b0a")?"?":e.quality}),e.date&&Object(j.jsx)(o.a,{icon:s.c,iconClassName:"text-gray-400 mr-1 ml-2",text:e.date,textClassName:"text-white text-xs",iconSize:12})]}),Object(j.jsx)("div",{className:"flex items-center",children:e.views&&Object(j.jsx)(o.a,{icon:b.c,iconClassName:"text-gray-400 mr-1",text:"L\u01b0\u1ee3t xem: "+e.views.toLocaleString(),textClassName:"text-white text-xs",iconSize:12})})]}),Object(j.jsx)("p",{className:"text-gray-400 text-xs line-clamp-3",children:e.description})]})]})}},185:function(e,t,n){"use strict";n.r(t);var c=n(8),a=n(65);function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var i=n(39),r=n(66);var l=n(18),o=n(50);function u(e){return function(e){if(Array.isArray(e))return Object(o.a)(e)}(e)||s(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=n(1),b=n(55),j=[0];function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e},m.apply(this,arguments)}function x(e){var t,n=function(e){var t,n,c=null!=(t=null==e?void 0:e.rootMargin)?t:"0px",a=null!=(n=null==e?void 0:e.threshold)?n:j,s=Object(d.useRef)(null),i=Object(d.useRef)(null),r=Object(d.useRef)(null),l=Object(d.useState)(),o=l[0],u=l[1],b=Object(d.useCallback)((function(){var e=r.current;null==e||e.disconnect(),r.current=null}),[]);Object(d.useEffect)((function(){return function(){b()}}),[b]);var m=Object(d.useCallback)((function(){var e=s.current;if(e){var t=i.current,n=new IntersectionObserver((function(e){var t=e[0];u(t)}),{root:t,rootMargin:c,threshold:a});n.observe(e),r.current=n}}),[c,a]),x=Object(d.useCallback)((function(){b(),m()}),[m,b]);return[Object(d.useCallback)((function(e){s.current=e,x()}),[x]),{entry:o,rootRef:Object(d.useCallback)((function(e){i.current=e,x()}),[x])}]}(e),c=n[0],a=n[1],s=Boolean(null==(t=a.entry)?void 0:t.isIntersecting),i=Object(d.useState)(s),r=i[0],l=i[1];return Object(d.useEffect)((function(){s&&l(s)}),[s]),[c,m({},a,{isVisible:s,wasEverVisible:r})]}var f=function(e){var t=e.loading,n=e.hasNextPage,c=e.onLoadMore,a=e.rootMargin,s=e.disabled,i=e.delayInMs,r=void 0===i?100:i,l=x({rootMargin:a}),o=l[0],u=l[1],b=u.rootRef,j=u.isVisible,m=!s&&!t&&j&&n;return Object(d.useEffect)((function(){if(m){var e=setTimeout((function(){c()}),r);return function(){clearTimeout(e)}}}),[c,m,r]),[o,{rootRef:b}]},h=n(53),p=n(5),v=n(31),O=n(54),g=function(e){return Object(v.useInfiniteQuery)(["browse",e],(function(t){var n=t.pageParam,a=void 0===n?1:n;return Object(O.b)(Object(c.a)(Object(c.a)({},e),{},{page:a}))}),{getNextPageParam:function(e){var t=e.pagination;return Number(t.currentPage)>=Number(t.totalPage)?null:Number(t.currentPage)+1}})},N=n(129),y=n(38),w=n(12),C=n.n(w),k=n(127),S=n(2),E=["className","children"],M=function(e){var t=e.className,n=e.children,a=Object(y.a)(e,E);return Object(S.jsxs)("div",{className:"relative inline-flex self-center",children:[Object(S.jsx)("select",Object(c.a)(Object(c.a)({className:C()("text-lg font-medium rounded border border-gray-500 text-white pl-5 pr-9 focus:outline-none appearance-none",t)},a),{},{children:n})),Object(S.jsx)(k.a,{size:20,className:"absolute right-2 z-10 pointer-events-none text-white transition transform -translate-y-1/2 top-1/2"})]})},P=n(56),I=n(29),z=n(124),T=[].concat(u(I.e),u(I.b),u(I.c));t.default=function(){var e,t=Object(h.b)(),n=Object(h.c)((function(e){return e.sort})),o=Object(d.useState)(""),u=Object(l.a)(o,2),j=u[0],m=u[1],x=Object(d.useState)(I.d[n.index].slug),v=Object(l.a)(x,2),O=v[0],y=v[1],w=Object(p.f)().pathname,k=Object(p.h)(),E=Object(d.useState)({}),R=Object(l.a)(E,2),H=R[0],U=R[1],A=w.replace("/","").split("/"),F=(e=A,Object(a.a)(e)||s(e)||Object(i.a)(e)||Object(r.a)()),L=F[0],q=F.slice(1),D=g({category:L,sort:O,slug:q.join("/")}),B=D.data,K=D.isLoading,V=D.fetchNextPage,J=D.hasNextPage,Q=D.isFetchingNextPage,X="".concat(null!==B&&void 0!==B&&B.pages[0].total?"("+(null===B||void 0===B?void 0:B.pages[0].total[0])+")":""),G=f({loading:Q,hasNextPage:!!J,onLoadMore:V,rootMargin:"0px 0px 100px 0px"}),Y=Object(l.a)(G,1)[0],W=T.find((function(e){return w.includes(e.slug)})),Z=null===B||void 0===B?void 0:B.pages.map((function(e){return e.data})).flat();Object(d.useEffect)((function(){document.title="Browser - AniMAX"}),[]),Object(d.useEffect)((function(){(""===j||k!==H)&&(U(k),m(X))}),[X,k]);return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:"w-full",children:Object(S.jsxs)("div",{className:"w-full p-2",children:[Object(S.jsxs)("div",{className:"flex items-center justify-between",children:[Object(S.jsx)("p",{className:"text-white font-bold text-3xl",children:function(){if(null!==W&&void 0!==W&&W.name)return(null===W||void 0===W?void 0:W.name)+" ".concat(j);if(w.includes("seasons")){return{winter:"M\xf9a \u0110\xf4ng",spring:"M\xf9a Xu\xe2n",summer:"M\xf9a H\u1ea1",autumn:"M\xf9a Thu"}[q[0]]+" "+q[1]+" ".concat(j)}return"K\u1ebeT QU\u1ea2 T\xccM KI\u1ebeM: \xa0'".concat(decodeURI(q[0].toUpperCase()),"'")}()}),Object(S.jsx)(M,{value:O,onChange:function(e){y(e.target.value),t({type:"SORT",payload:{index:I.d.findIndex((function(t){return t.slug===e.target.value}))}})},className:"bg-black",children:I.d.map((function(e){return Object(S.jsx)("option",{value:e.slug,children:e.name},e.slug)}))})]}),K&&Object(S.jsxs)("div",{className:"w-full flex justify-center items-center",children:[Object(S.jsx)(z.a,{}),Object(S.jsx)(P.a,{})]}),Object(S.jsx)("div",{className:"my-6 flex flex-wrap",children:!K&&(null===Z||void 0===Z?void 0:Z.map((function(e){return Object(S.jsx)("div",{className:"mt-2 -mr-0 pr-2 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5 xl:w-1/6 2xl:w-1/7",children:Object(S.jsx)(N.a,Object(c.a)({},e))},e.slug)})))}),J&&Object(S.jsx)("div",{ref:Y,className:"flex justify-center pt-5",children:Object(S.jsx)(b.b,{size:20,className:"text-white animate-spin mr-2"})}),!J&&!K&&Object(S.jsx)("h1",{className:C()("text-2xl text-center font-semibold",0==(null===Z||void 0===Z?void 0:Z.length)?"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2":"pt-6"),children:0==(null===Z||void 0===Z?void 0:Z.length)?"K\u1ebft qu\u1ea3 kh\xf4ng t\xecm th\u1ea5y!":"-  The End  -"}),Q&&Object(S.jsx)(z.a,{})]})})})}}}]);
//# sourceMappingURL=10.dd58a0da.chunk.js.map